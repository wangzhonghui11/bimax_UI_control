🤖 机器人远程控制系统

📋 项目简介

一个基于ROS2和Gradio的机器人远程控制系统，支持多机器人切换、硬件控制、基站管理等功能。

🎯 主要功能

🎮 基础控制

• 机器人选择：支持多台机器人切换

• 网络检测：实时Ping测试机器人连接状态

• 基础状态：显示机器人连接状态

🔧 硬件控制检测

• 轮组控制：前进、后退、左转、右转、停止

• 电磁铁控制：充磁/退磁

• 吸尘器控制：开启/关闭

• 拖布控制：开启/关闭

• 夹爪控制：开合控制

• 机械臂控制：回零/收臂

• 电机故障处理：重置电机错误并初始化错误码

• 机械臂动作控制：多种预设动作

🏠 基站控制

• 清洗功能：开启/关闭基站清洗

• 吸尘功能：开启/关闭基站吸尘

• 干燥功能：开启/关闭基站干燥

📁 项目结构


robot_control_system/
├── main.py                    # 主程序入口
├── config.py                  # 配置参数
├── robot_controller.py        # 机器人控制器类
├── robot_node.py             # ROS2节点类
├── ui_interface.py           # 界面构建
└── requirements.txt          # 依赖包


🔧 快速开始

1. 环境要求

• Python 3.8+

• ROS2 Foxy/Humble

• Ubuntu 20.04/22.04

2. 安装依赖

# 安装系统依赖
sudo apt-get update
sudo apt-get install python3-pip

# 安装Python依赖
pip install -r requirements.txt


3. 配置机器人

在 config.py 中配置机器人信息：
ROBOTS = {
    "ROBOT0 (DOMAIN=0)": {"domain": "0", "ip": "192.0.0.0"},
    "ROBOT7 (DOMAIN=80)": {"domain": "80", "ip": "192.168.0.107"},
    # 添加更多机器人...
}


4. 运行系统

# 启动控制界面
python main.py


5. 访问界面

打开浏览器访问：http://localhost:7860

🚀 功能说明

机器人切换

1. 在"基础控制"页面选择目标机器人
2. 点击"切换"按钮
3. 系统会自动重新连接并切换机器人

硬件测试

1. 进入"硬件控制检测"页面
2. 根据需要测试各项硬件功能
3. 所有操作都有状态反馈

基站控制

1. 进入"基站控制"页面
2. 测试清洗、吸尘、干燥功能
3. 支持独立控制每个功能

⚙️ 配置说明

服务配置

在 config.py 中配置ROS2服务名称：
SERVICE_NAMES = {
    "magnet": "/magnet_control",      # 电磁铁控制
    "catcher": "/catcher_control",     # 吸尘器控制
    "mop": "/mop_control",            # 拖布控制
    # 更多服务...
}


话题配置

配置ROS2话题名称：
TOPIC_NAMES = {
    "cmd_vel": "/cmd_vel",               # 速度控制
    "gripper": "/gripper_position",      # 夹爪控制
    "arm_command": "/bimaxArmCommandValues",  # 机械臂控制
}


🔌 ROS2接口说明

已实现的服务接口

• /magnet_control - 电磁铁控制

• /catcher_control - 吸尘器控制

• /mop_control - 拖布控制

• /MotorFaultReset - 电机错误重置

• /MotorFaultSet - 错误码初始化

• /station/control/wash - 基站清洗

• /station/control/dust - 基站吸尘

• /station/control/dry - 基站干燥

• /function/arm/grasp - 机械臂动作

已实现的话题接口

• /cmd_vel - 速度控制

• /gripper_position - 夹爪位置

• /bimaxArmCommandValues - 机械臂命令

🐛 故障排除

常见问题

1. 机器人连接失败
   • 检查网络连接

   • 确认机器人IP地址正确

   • 确认ROS2服务正常运行

2. 服务调用失败
   • 检查服务名称是否正确

   • 确认服务已启动

   • 检查ROS_DOMAIN_ID设置

3. 界面无响应
   • 检查端口7860是否被占用

   • 查看日志输出

   • 重启应用

日志查看

# 查看ROS2日志
ros2 topic list
ros2 service list


📱 界面截图

基础控制界面

• 机器人选择和网络测试

• 连接状态显示

硬件控制界面

• 轮组控制面板

• 各硬件模块独立控制

• 状态实时反馈

基站控制界面

• 三大功能独立控制

• 批量控制选项

• 状态监控

🔄 更新日志

v1.0.0

• 初始版本发布

• 支持多机器人切换

• 实现基本硬件控制

• 添加基站控制功能

📄 许可证

本项目基于 MIT 许可证开源。

👥 贡献指南

欢迎提交 Issue 和 Pull Request！

1. Fork 本仓库
2. 创建特性分支
3. 提交更改
4. 推送到分支
5. 创建 Pull Request

📧 联系信息

如有问题或建议，请联系项目维护者。

注意: 使用本系统前请确保已获得相应权限，并遵守相关安全规范。